% Beamer helper macros, to save typing time
%
% Author: Rudy Matela <rudy@matela.com.br>
%
% Created as part of 'textemplate'.
%
% TODO: verbatimframe environment and framev command?
\RequirePackage{xifthen}
\ProvidesPackage{beamer-helper}[2016/03/06 Helper macros for Beamer]
\ExecuteOptions{}

\newcommand{\bracketize}[1]{\ifthenelse{\isempty{#1}}{}{[#1]}}

\newenvironment{itemizeframe}[1][]{% 'label=prev,' needed or beamer will break
  \begin{frame}[label=prev,#1]\startitemize}{\stopitemize\end{frame}}
\newenvironment{descriptionframe}[1][]{%
  \begin{frame}[label=prev,#1]\startdescription}{\stopdescription\end{frame}}
\newenvironment{enumerateframe}[1][]{%
  \begin{frame}[label=prev,#1]\startenumerate}{\stopenumerate\end{frame}}
\newenvironment{justifiedframe}[1][]{%
  \begin{frame}[label=prev,#1]\startminipage}{\stopminipage\end{frame}}
\newenvironment{abstractframe}[1][]{%
  \begin{frame}[label=prev,#1]%
  \ft{\insertshorttitle{} {\normalsize\insertshortsubtitle}}\fst{(\insertshortauthor{} -- \insertdate{})}%
  \startminipage%
  }{%
  \stopminipage%
  \end{frame}%
  }

% Special frames
\newcommand{\ftxt}[2][]{\begin{frame}\bracketize{#1}#2\end{frame}}
\newcommand{\fttt}[2][]{\begin{frame}[t,#1]\ttfamily#2\end{frame}}
\newcommand{\fize}[2][]{\begin{itemizeframe}[#1]#2\end{itemizeframe}}
\newcommand{\fdon}[2][]{\begin{descriptionframe}[#1]#2\end{descriptionframe}}
\newcommand{\fenu}[2][]{\begin{enumerateframe}[#1]#2\end{enumerateframe}}
\newcommand{\fjus}[2][]{\begin{justifiedframe}[#1]#2\end{justifiedframe}}

% Deprecated special frames
\newcommand{\framet}[2][]{\begin{frame}\frametitle{#1}#2\end{frame}}
\newcommand{\framett}[2][]{\begin{frame}[t]\frametitle{#1}\ttfamily#2\end{frame}}
\newcommand{\framei}[2][]{\begin{itemizeframe}\frametitle{#1}#2\end{itemizeframe}}
\newcommand{\framed}[2][]{\begin{descriptionframe}\frametitle{#1}#2\end{descriptionframe}}
\newcommand{\framee}[2][]{\begin{enumerateframe}\frametitle{#1}#2\end{enumerateframe}}
\newcommand{\framej}[2][]{\begin{justifiedframe}\frametitle{#1}#2\end{justifiedframe}}
\newcommand{\frameabs}[2][]{\begin{abstractframe}[#1]#2\end{abstractframe}}
\newcommand{\frameT}[1]{{%
  \setbeamercolor{normal text}{use=structure,bg=structure.fg}%
  \frame{%
    \centering%
    \usebeamerfont{frametitle}%
    \usebeamercolor[bg]{frametitle}%
    #1}}}
\newcommand{\frameTnohandout}[1]{{%
  \setbeamercolor{normal text}{use=structure,bg=structure.fg}%
  \frame<handout:0>{%
    \centering%
    \usebeamerfont{frametitle}%
    \usebeamercolor[bg]{frametitle}%
    #1}}}
\newcommand{\frameiw}[3][]% frame image by width
  {\begin{frame}\frametitle{#1}\cincg[#2]{#3}\end{frame}}
\newcommand{\frameih}[3][]% frame image by height
  {\begin{frame}\frametitle{#1}\cincgh[#2]{#3}\end{frame}}

% Section frames
\newcommand{\sframet}[2]{\section{#1}\framet[#1]{#2}}
\newcommand{\sframei}[2]{\section{#1}\framei[#1]{#2}}
\newcommand{\sframed}[2]{\section{#1}\framed[#1]{#2}}
\newcommand{\sframeT}[1]{\section{#1}\frameT{#1}}

% Sub-section frames
\newcommand{\ssframet}[2]{\subsection{#1}\framet[#1]{#2}}
\newcommand{\ssframei}[2]{\subsection{#1}\framei[#1]{#2}}
\newcommand{\ssframed}[2]{\subsection{#1}\framed[#1]{#2}}

\newcommand\ft\frametitle
\newcommand\fst\framesubtitle
\newcommand{\pitem}{\pause \item}
\newcommand{\pim}{\pitem}
\newcommand{\alr}[2]{\begin{alertblock}{#1}#2\end{alertblock}}

% Only used internally at this file
% These are needed as of Beamer 3.33
% c.f. Beamer 3.33 Documentation, section 8.1, The Frame Environment
\newcommand\startitemize{\begin{itemize}}
\newcommand\stopitemize{\end{itemize}}
\newcommand\startdescription{\begin{description}}
\newcommand\stopdescription{\end{description}}
\newcommand\startenumerate{\begin{enumerate}}
\newcommand\stopenumerate{\end{enumerate}}
\newcommand\startminipage{\begin{minipage}{\linewidth}}
\newcommand\stopminipage{\end{minipage}}

\endinput
